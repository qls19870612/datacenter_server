Time : 08:44:19
SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':%i') as dtstattime, sum(iplayercount) as playercount_a from db{game}{plt}result' at line 1
Raw SQL : UPDATE sql_tpl SET sql_content = 'select tmp_aa_bb.dtstattime as dtstattime, playercount_a, playercount_b, playercount_c from (select tmp_aa.dtstattime as dtstattime, playercount_a, playercount_b from (select tmp.dtstattime as dtstattime, playercount_a from (select tplFiveMinutes as dtstattime from db{game}conf.tbtemplatebyfiveminutes) as tmp left join (select date_format(dtStatTime,'%H:%i') as dtstattime, sum(iplayercount) as playercount_a from db{game}{plt}result.tbrealonline where dtStatTime between date_format(now(),'%Y-%m-%d 00:00:00') and date_format(now(),'%Y-%m-%d 23:59:59') and iWorldID in ({sid}) group by date_format(dtStatTime,'%H:%i')) as aa on tmp.dtstattime = aa.dtstattime) as tmp_aa left join (select date_format(dtStatTime,'%H:%i') as dtstattime, sum(iplayercount) as playercount_b from db{game}{plt}result.tbrealonline where dtStatTime between date_format(date_add(now(), interval -1 day),'%Y-%m-%d 00:00:00') and date_format(date_add(now(), interval -1 day),'%Y-%m-%d 23:59:59') and iWorldID in ({sid}) group by date_format(dtStatTime,'%H:%i')) as bb on tmp_aa.dtstattime = bb.dtstattime) as tmp_aa_bb left join (select date_format(dtStatTime,'%H:%i') as dtstattime, sum(iplayercount) as playercount_c from db{game}{plt}result.tbrealonline where dtStatTime between date_format(date_add(now(), interval -8 day),'%Y-%m-%d 00:00:00') and date_format(date_add(now(), interval -8 day),'%Y-%m-%d 23:59:59') and iWorldID in ({sid}) group by date_format(dtStatTime,'%H:%i')) as cc on tmp_aa_bb.dtstattime = cc.dtstattime', pre_sql = 'select CONCAT(DATE_FORMAT(now(),'%Y-%m-%d '), dtstattime, ':00') as stattime, sum(playercount_a) as playercount_a, sum(playercount_b) as playercount_b, sum(playercount_c) as playercount_c from ([SQL]) as tmp group by stattime' WHERE sql_key = 'online_history_dynamic' and suid = '769e-8c57ef2a'

Time : 08:38:16
SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':%i') as dtstattime, sum(iplayercount) as playercount_a from db{game}{plt}result' at line 1
Raw SQL : UPDATE sql_tpl SET sql_content = 'select tmp_aa_bb.dtstattime as dtstattime, playercount_a, playercount_b, playercount_c from (select tmp_aa.dtstattime as dtstattime, playercount_a, playercount_b from (select tmp.dtstattime as dtstattime, playercount_a from (select tplFiveMinutes as dtstattime from db{game}conf.tbtemplatebyfiveminutes) as tmp left join (select date_format(dtStatTime,'%H:%i') as dtstattime, sum(iplayercount) as playercount_a from db{game}{plt}result.tbrealonline where dtStatTime between date_format(now(),'%Y-%m-%d 00:00:00') and date_format(now(),'%Y-%m-%d 23:59:59') and iWorldID in ({sid}) group by date_format(dtStatTime,'%H:%i')) as aa on tmp.dtstattime = aa.dtstattime) as tmp_aa left join (select date_format(dtStatTime,'%H:%i') as dtstattime, sum(iplayercount) as playercount_b from db{game}{plt}result.tbrealonline where dtStatTime between date_format(date_add(now(), interval -1 day),'%Y-%m-%d 00:00:00') and date_format(date_add(now(), interval -1 day),'%Y-%m-%d 23:59:59') and iWorldID in ({sid}) group by date_format(dtStatTime,'%H:%i')) as bb on tmp_aa.dtstattime = bb.dtstattime) as tmp_aa_bb left join (select date_format(dtStatTime,'%H:%i') as dtstattime, sum(iplayercount) as playercount_c from db{game}{plt}result.tbrealonline where dtStatTime between date_format(date_add(now(), interval -8 day),'%Y-%m-%d 00:00:00') and date_format(date_add(now(), interval -8 day),'%Y-%m-%d 23:59:59') and iWorldID in ({sid}) group by date_format(dtStatTime,'%H:%i')) as cc on tmp_aa_bb.dtstattime = cc.dtstattime', pre_sql = '' WHERE sql_key = 'online_history_dynamic' and suid = '769e-8c57ef2a'
